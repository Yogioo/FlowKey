# FlowKey - åœ†ç›˜æ¨¡å¼åˆ‡æ¢å·¥å…·

<div align="center">

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Python](https://img.shields.io/badge/python-3.8+-blue.svg)
![Platform](https://img.shields.io/badge/platform-Windows-lightgrey.svg)

ä¸€ä¸ªä¼˜é›…çš„åœ†ç›˜å¼é”®ç›˜æ¨¡å¼åˆ‡æ¢å·¥å…·ï¼Œè®©ä½ çš„å·¥ä½œæµæ›´åŠ æµç•…é«˜æ•ˆã€‚

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å®‰è£…](#å®‰è£…) â€¢ [ä½¿ç”¨](#ä½¿ç”¨) â€¢ [é…ç½®](#é…ç½®) â€¢ [å¼€å‘](#å¼€å‘)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

FlowKey æ˜¯ä¸€ä¸ªåŸºäº Python å¼€å‘çš„å¯è§†åŒ–åœ†ç›˜ UI é”®ç›˜æ¨¡å¼åˆ‡æ¢å·¥å…·ã€‚å®ƒé€šè¿‡åœ†å½¢è¦†ç›–ç•Œé¢å±•ç¤º 4 ç§å·¥ä½œæ¨¡å¼ï¼Œæ”¯æŒå…¨å±€çƒ­é”®æ‹¦æˆªä¸é‡æ˜ å°„ï¼Œå¸®åŠ©ä½ åœ¨ä¸åŒå·¥ä½œåœºæ™¯ä¸‹å¿«é€Ÿåˆ‡æ¢é”®ä½é…ç½®ã€‚

**é€‚ç”¨åœºæ™¯ï¼š**
- ğŸŒ **æµè§ˆæ¨¡å¼**ï¼šä¼˜åŒ–ç½‘é¡µæµè§ˆå¿«æ·é”®
- ğŸµ **å½±éŸ³æ¨¡å¼**ï¼šåª’ä½“æ’­æ”¾æ§åˆ¶
- ğŸ¬ **è§†é¢‘æ¨¡å¼**ï¼šè§†é¢‘ç¼–è¾‘å¿«æ·æ“ä½œ
- ğŸªŸ **çª—å£ç®¡ç†**ï¼šé«˜æ•ˆçš„çª—å£åˆ‡æ¢ä¸å¸ƒå±€

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ¯ **å¯è§†åŒ–åœ†ç›˜ UI**ï¼šåœ†å½¢æ¸å˜ç•Œé¢ï¼Œç›´è§‚æ˜¾ç¤ºå½“å‰æ¨¡å¼
- âŒ¨ï¸ **å…¨å±€çƒ­é”®ç³»ç»Ÿ**ï¼šæ”¯æŒä»»æ„é”®ä½é‡æ˜ å°„ï¼ŒåŒ…æ‹¬ F13-F24 ç­‰ç‰¹æ®ŠæŒ‰é”®
- ğŸ”„ **å¤šæ¨¡å¼åˆ‡æ¢**ï¼š4 ç§é¢„è®¾æ¨¡å¼ï¼Œå¿«é€Ÿå“åº”ä¸åŒå·¥ä½œåœºæ™¯
- ğŸ¨ **é«˜è´¨é‡æ¸²æŸ“**ï¼šPIL 4å€æŠ—é”¯é½¿æ¸²æŸ“ï¼Œç•Œé¢æ¸…æ™°æµç•…
- ğŸ”§ **å›¾å½¢åŒ–é…ç½®**ï¼šTkinter é…ç½®é¢æ¿ï¼Œå¯è§†åŒ–ç¼–è¾‘æŒ‰é”®æ˜ å°„

### é«˜çº§ç‰¹æ€§
- ğŸ–±ï¸ **ç³»ç»Ÿæ‰˜ç›˜é›†æˆ**ï¼šæœ€å°åŒ–åˆ°æ‰˜ç›˜ï¼Œæ”¯æŒæš‚åœ/æ¢å¤
- ğŸ’¾ **é…ç½®æŒä¹…åŒ–**ï¼šJSON æ ¼å¼å­˜å‚¨ï¼Œéšæ—¶å¤‡ä»½ä¸åˆ†äº«
- â±ï¸ **æ™ºèƒ½éšè—**ï¼šè‡ªåŠ¨æ·¡å‡ºæ•ˆæœï¼Œä¸å¹²æ‰°å·¥ä½œ
- ğŸ›¡ï¸ **æŒ‰é”®æ‹¦æˆª**ï¼šå¯é€‰æ‹©æ€§é˜»æ–­æºæŒ‰é”®ï¼Œé¿å…å†²çª
- ğŸŒˆ **è‡ªå®šä¹‰é…è‰²**ï¼šæ¯ä¸ªæ¨¡å¼ç‹¬ç«‹æ¸å˜è‰²å½©æ–¹æ¡ˆ

## ğŸ“¦ å®‰è£…

### ç¯å¢ƒè¦æ±‚
- **Python 3.8+**
- **Windows æ“ä½œç³»ç»Ÿ**ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
- **ä¾èµ–åº“**ï¼šè§ `requirements.txt`

### å¿«é€Ÿå®‰è£…

1. **å…‹éš†ä»“åº“**
```bash
git clone https://github.com/Yogioo/FlowKey.git
cd FlowKey
```

2. **å®‰è£…ä¾èµ–**
```bash
pip install -r requirements.txt
```

3. **ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ**
```bash
# å³é”®ç‚¹å‡»å‘½ä»¤æç¤ºç¬¦/PowerShell â†’ "ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"
python main.py
```

> âš ï¸ **é‡è¦æç¤º**ï¼šå…¨å±€é”®ç›˜é’©å­éœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚

## ğŸš€ ä½¿ç”¨

### å¯åŠ¨åº”ç”¨

```bash
python main.py
```

å¯åŠ¨åï¼Œåº”ç”¨ä¼šæœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜ï¼Œåœ†ç›˜ç•Œé¢é»˜è®¤éšè—ã€‚

### åŸºæœ¬æ“ä½œ

| å¿«æ·é”® | åŠŸèƒ½ |
|--------|------|
| `Ctrl+Alt+Shift+-` | åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªæ¨¡å¼ |
| `Ctrl+Alt+Shift+=` | åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªæ¨¡å¼ |
| `Ctrl+Alt+Shift+S` | æ‰“å¼€é…ç½®é¢æ¿ |
| `Esc` | éšè—åœ†ç›˜ç•Œé¢ |

### æ¨¡å¼è¯´æ˜

#### ğŸŒ æµè§ˆæ¨¡å¼
é»˜è®¤æ˜ å°„ç¤ºä¾‹ï¼š
- `F13` â†’ `Ctrl+W`ï¼ˆå…³é—­æ ‡ç­¾é¡µï¼‰
- `F14` â†’ `Ctrl+T`ï¼ˆæ–°å»ºæ ‡ç­¾é¡µï¼‰
- `F15` â†’ `Ctrl+Tab`ï¼ˆåˆ‡æ¢æ ‡ç­¾é¡µï¼‰

#### ğŸµ å½±éŸ³æ¨¡å¼
é»˜è®¤æ˜ å°„ç¤ºä¾‹ï¼š
- `F13` â†’ `Space`ï¼ˆæ’­æ”¾/æš‚åœï¼‰
- `F14` â†’ `Left`ï¼ˆåé€€ï¼‰
- `F15` â†’ `Right`ï¼ˆå‰è¿›ï¼‰

#### ğŸ¬ è§†é¢‘æ¨¡å¼
é»˜è®¤æ˜ å°„ç¤ºä¾‹ï¼š
- `F13` â†’ `Ctrl+K`ï¼ˆå‰ªåˆ‡ï¼‰
- `F14` â†’ `Ctrl+Z`ï¼ˆæ’¤é”€ï¼‰
- `F15` â†’ `Ctrl+S`ï¼ˆä¿å­˜ï¼‰

#### ğŸªŸ çª—å£ç®¡ç†
é»˜è®¤æ˜ å°„ç¤ºä¾‹ï¼š
- `F13` â†’ `Win+Left`ï¼ˆé å·¦ï¼‰
- `F14` â†’ `Win+Right`ï¼ˆé å³ï¼‰
- `F15` â†’ `Win+Up`ï¼ˆæœ€å¤§åŒ–ï¼‰

## âš™ï¸ é…ç½®

### é…ç½®æ–‡ä»¶

#### `key_mappings.json` - æŒ‰é”®æ˜ å°„é…ç½®
```json
{
  "æµè§ˆæ¨¡å¼": {
    "enabled": true,
    "mappings": [
      {
        "source": "f13",
        "target": "control_l+w",
        "block": true,
        "hint": "å…³é—­æ ‡ç­¾"
      }
    ]
  }
}
```

**å­—æ®µè¯´æ˜ï¼š**
- `source`ï¼šæºæŒ‰é”®ï¼ˆè§¦å‘é”®ï¼‰
- `target`ï¼šç›®æ ‡æŒ‰é”®ç»„åˆï¼ˆä½¿ç”¨ `+` è¿æ¥ä¿®é¥°é”®ï¼‰
- `block`ï¼šæ˜¯å¦æ‹¦æˆªæºæŒ‰é”®ï¼ˆ`true` é˜»æ­¢åŸå§‹æŒ‰é”®ç”Ÿæ•ˆï¼‰
- `hint`ï¼šæ˜ å°„æç¤ºæ–‡æœ¬

#### `wheel_tool_config.json` - ç•Œé¢é…ç½®
```json
{
  "window": {
    "alpha": 1.0,
    "size": 320,
    "center_on_screen": true
  },
  "display": {
    "fade_step": 25,
    "hide_delay": 800
  }
}
```

**å­—æ®µè¯´æ˜ï¼š**
- `alpha`ï¼šçª—å£é€æ˜åº¦ï¼ˆ0.0-1.0ï¼‰
- `size`ï¼šåœ†ç›˜ç›´å¾„ï¼ˆåƒç´ ï¼‰
- `hide_delay`ï¼šè‡ªåŠ¨éšè—å»¶è¿Ÿï¼ˆæ¯«ç§’ï¼‰

### æŒ‰é”®åç§°è§„èŒƒ

| ç±»å‹ | æ ¼å¼ | ç¤ºä¾‹ |
|------|------|------|
| æ™®é€šå­—æ¯ | å°å†™ | `a`, `b`, `c` |
| æ•°å­— | ç›´æ¥ä½¿ç”¨ | `1`, `2`, `3` |
| ä¿®é¥°é”® | å¸¦åç¼€ `_l`/`_r` | `control_l`, `shift_r`, `alt_l` |
| åŠŸèƒ½é”® | å°å†™ f + æ•°å­— | `f1`, `f13`, `f24` |
| ç‰¹æ®Šé”® | ä¸‹åˆ’çº¿è¿æ¥ | `arrow_left`, `page_up` |

### å›¾å½¢åŒ–é…ç½®

æŒ‰ `Ctrl+Alt+Shift+S` æ‰“å¼€é…ç½®é¢æ¿ï¼š
1. é€‰æ‹©è¦ç¼–è¾‘çš„æ¨¡å¼
2. ç‚¹å‡»"æ·»åŠ æ˜ å°„"æŒ‰é’®
3. è®¾ç½®æºæŒ‰é”®å’Œç›®æ ‡æŒ‰é”®
4. å‹¾é€‰æ˜¯å¦æ‹¦æˆªæºæŒ‰é”®
5. ç‚¹å‡»"ä¿å­˜é…ç½®"

## ğŸ› ï¸ å¼€å‘

### é¡¹ç›®ç»“æ„

```
flowkey/
â”œâ”€â”€ key_mapper/           # æŒ‰é”®æ˜ å°„ç³»ç»Ÿ
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ manager.py    # æ¨¡å¼ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ models.py     # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ modes.py      # æ¨¡å¼å®ç°
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ storage.py    # é…ç½®æŒä¹…åŒ–
â”‚   â””â”€â”€ ui/
â”‚       â””â”€â”€ mapping_panel.py  # é…ç½®ç•Œé¢
â”œâ”€â”€ wheel_tool/           # åœ†ç›˜ UI ä¸è¿è¡Œæ—¶
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ disk.py       # åœ†ç›˜ç•Œé¢
â”‚   â”‚   â””â”€â”€ renderer.py   # æ¸²æŸ“å¼•æ“
â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â”œâ”€â”€ hotkey_listener.py  # çƒ­é”®ç›‘å¬
â”‚   â”‚   â””â”€â”€ controller.py       # æ¨¡å¼æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ system/
â”‚   â”‚   â”œâ”€â”€ app.py        # åº”ç”¨ç”Ÿå‘½å‘¨æœŸ
â”‚   â”‚   â””â”€â”€ tray_icon.py  # ç³»ç»Ÿæ‰˜ç›˜
â”‚   â””â”€â”€ config/
â”‚       â””â”€â”€ settings.py   # å…¨å±€é…ç½®
â”œâ”€â”€ main.py               # ç¨‹åºå…¥å£
â”œâ”€â”€ test_disk_fixes.py    # å•å…ƒæµ‹è¯•
â””â”€â”€ CLAUDE.md             # å¼€å‘æ–‡æ¡£

```

### è¿è¡Œæµ‹è¯•

```bash
python test_disk_fixes.py
```

### æ·»åŠ æ–°æ¨¡å¼

1. åœ¨ `key_mapper/core/modes.py` ä¸­åˆ›å»ºæ–°æ¨¡å¼ç±»ï¼š
```python
class CustomMode(BaseMode):
    def __init__(self):
        super().__init__("è‡ªå®šä¹‰æ¨¡å¼")

    def get_default_mappings(self):
        return [
            ("f13", "ctrl+c", True, "å¤åˆ¶"),
            ("f14", "ctrl+v", True, "ç²˜è´´"),
        ]
```

2. åœ¨ `key_mapper/core/manager.py` çš„ `ModeManager.__init__()` ä¸­æ³¨å†Œï¼š
```python
self.modes = [
    BrowseMode(),
    MediaMode(),
    VideoMode(),
    WindowMode(),
    CustomMode(),  # æ·»åŠ æ–°æ¨¡å¼
]
```

3. åœ¨ `wheel_tool/ui/disk.py` ä¸­æ·»åŠ æ˜¾ç¤ºé…ç½®ï¼š
```python
self.MODES = ["æµè§ˆæ¨¡å¼", "å½±éŸ³æ¨¡å¼", "è§†é¢‘æ¨¡å¼", "çª—å£ç®¡ç†", "è‡ªå®šä¹‰æ¨¡å¼"]
self.COLORS = {
    "è‡ªå®šä¹‰æ¨¡å¼": [(255, 100, 150), (200, 50, 100)],
}
```

### æŠ€æœ¯æ ˆ

- **UI æ¡†æ¶**ï¼šTkinterï¼ˆé…ç½®é¢æ¿ï¼‰+ PILï¼ˆåœ†ç›˜æ¸²æŸ“ï¼‰
- **çƒ­é”®åº“**ï¼š`keyboard`ï¼ˆå…¨å±€é’©å­ï¼‰
- **æŒ‰é”®æ¨¡æ‹Ÿ**ï¼š`pynput`ï¼ˆé”®ç›˜æ§åˆ¶å™¨ï¼‰
- **ç³»ç»Ÿæ‰˜ç›˜**ï¼š`pystray`
- **é…ç½®æ ¼å¼**ï¼šJSON

## ğŸ› å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆçƒ­é”®ä¸ç”Ÿæ•ˆï¼Ÿ
**A:** è¯·ç¡®ä¿ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œç¨‹åºã€‚Windows éœ€è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½æ•è·å…¨å±€çƒ­é”®ã€‚

### Q: å¦‚ä½•å¤‡ä»½æˆ‘çš„é…ç½®ï¼Ÿ
**A:** ç›´æ¥å¤åˆ¶ `key_mappings.json` å’Œ `wheel_tool_config.json` æ–‡ä»¶å³å¯ã€‚

### Q: å¯ä»¥åœ¨å…¶ä»–æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œå—ï¼Ÿ
**A:** ç›®å‰ä»…æ”¯æŒ Windowsã€‚Linux/macOS éœ€è¦æ›¿æ¢åº•å±‚çƒ­é”®åº“ã€‚

### Q: åœ†ç›˜ç•Œé¢æ˜¾ç¤ºæ¨¡ç³Šæ€ä¹ˆåŠï¼Ÿ
**A:** æ£€æŸ¥ `wheel_tool_config.json` ä¸­çš„ `size` å‚æ•°ï¼Œå»ºè®®è®¾ç½®ä¸º 320 æˆ–æ›´å¤§ã€‚

### Q: å¦‚ä½•ç¦ç”¨æŸä¸ªæ¨¡å¼ï¼Ÿ
**A:** åœ¨ `key_mappings.json` ä¸­å°†å¯¹åº”æ¨¡å¼çš„ `enabled` è®¾ä¸º `false`ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ [Issue](https://github.com/Yogioo/FlowKey/issues)ã€‚

---

<div align="center">

**ä½¿ç”¨ â¤ï¸ å’Œ Python æ„å»º**

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªæ˜Ÿæ ‡æ”¯æŒï¼

</div>
